import"./chunk-BYXBJQAS.js";import{a as g,b as w}from"./chunk-YHSLCSDN.js";import"./chunk-HBVGJIFA.js";import"./chunk-DMAP7O3B.js";import"./chunk-SEBF2BU2.js";import"./chunk-226KYS73.js";import"./chunk-36MGJEOV.js";import"./chunk-P4DBDHMG.js";import{a as v}from"./chunk-6BZURQTQ.js";import{c as _}from"./chunk-R7DZLFCY.js";import{C as b,D as P}from"./chunk-7LRRDA6O.js";import{$ as p,Mb as f,Na as m,Oa as o,Wa as d,fb as h,jb as r,kb as s,lb as u,tb as l}from"./chunk-LJKVXSQR.js";var I=(()=>{class i{constructor(t,e){this.ngZone=t,this.router=e,this.pacientes=[],this.filteredPacientes=[],this.columnas=["first_name","last_name","economic_status","vulnerability_level","phone","address"],this.encabezados=["Nombre","Apellido","Estado Econ\xF3mico","Nivel de Vulnerabilidad","Tel\xE9fono","Direcci\xF3n"]}ngOnInit(){this.getPacientes()}getPacientes(){let{headers:t}=P();fetch(`${b.apiUrl}patient/getPriorityPatients`,{method:"GET",headers:t}).then(e=>e.json()).then(e=>{this.ngZone.run(()=>{this.pacientes=e.data.vulnerablePatients.slice(0,20),this.filteredPacientes=this.pacientes})})}filterPacientes(t){this.filteredPacientes=this.pacientes.filter(e=>e.id_card.toString().includes(t))}cleanSearch(){this.filteredPacientes=this.pacientes}onView(t){this.router.navigate(["/perfilPaciente",t.id_card])}static{this.\u0275fac=function(e){return new(e||i)(o(d),o(_))}}static{this.\u0275cmp=p({type:i,selectors:[["app-gestion-paciente-vulnerable"]],standalone:!0,features:[f],decls:4,vars:6,consts:[["title","Pacientes Vulnerables"],[1,"horizontal"],["placeholder","Buscar por C\xE9dula",3,"search","clean"],[3,"view","items","columns","columnHeaders","showEdit","showDelete","showView"]],template:function(e,n){e&1&&(u(0,"app-h1",0),r(1,"div",1)(2,"app-searchbar",2),l("search",function(a){return n.filterPacientes(a)})("clean",function(){return n.cleanSearch()}),s()(),r(3,"app-table2",3),l("view",function(a){return n.onView(a)}),s()),e&2&&(m(3),h("items",n.filteredPacientes)("columns",n.columnas)("columnHeaders",n.encabezados)("showEdit",!1)("showDelete",!1)("showView",!0))},dependencies:[v,w,g]})}}return i})();export{I as default};
