import{a as g,b as _}from"./chunk-YHSLCSDN.js";import"./chunk-HBVGJIFA.js";import"./chunk-DMAP7O3B.js";import"./chunk-SEBF2BU2.js";import"./chunk-226KYS73.js";import"./chunk-36MGJEOV.js";import"./chunk-P4DBDHMG.js";import{a as u}from"./chunk-6BZURQTQ.js";import"./chunk-R7DZLFCY.js";import{C as h,D as f}from"./chunk-7LRRDA6O.js";import{$ as a,Mb as c,Na as r,Oa as s,Wa as p,fb as m,jb as d,kb as l,lb as i}from"./chunk-LJKVXSQR.js";var b=(()=>{class o{constructor(n){this.ngZone=n,this.expirados=[],this.columnas=["patient_name","patient_id_card","appointment_date","expiration_date"],this.encabezados=["Nombre del Paciente","Cedula","Fecha de Entrega","Fecha de Expiraci\xF3n"]}ngOnInit(){this.getExpirados()}getExpirados(){console.log("holi?");let{headers:n}=f();fetch(`${h.apiUrl}delivery/getExpired`,{method:"GET",headers:n}).then(t=>t.json()).then(t=>{console.log(t),this.ngZone.run(()=>{console.log(t.data.Delivery),this.expirados=t.data.Delivery.map(e=>({appointment_date:new Date(e.appointment_date).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),patient_name:e.patient?e.patient.first_name:"",patient_id:e.patient_id,patient_id_card:e.patient?e.patient.id_card:"",expiration_date:new Date(e.expiration_date).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})),console.log(this.expirados)})})}static{this.\u0275fac=function(t){return new(t||o)(s(p))}}static{this.\u0275cmp=a({type:o,selectors:[["app-gestion-expirado"]],standalone:!0,features:[c],decls:4,vars:6,consts:[["title","Gestion Expirado"],[1,"horizontal"],[3,"items","columns","columnHeaders","showEdit","showDelete","showView"]],template:function(t,e){t&1&&(i(0,"app-h1",0),d(1,"div",1),i(2,"app-searchbar"),l(),i(3,"app-table2",2)),t&2&&(r(3),m("items",e.expirados)("columns",e.columnas)("columnHeaders",e.encabezados)("showEdit",!1)("showDelete",!1)("showView",!1))},dependencies:[u,_,g]})}}return o})();export{b as default};
