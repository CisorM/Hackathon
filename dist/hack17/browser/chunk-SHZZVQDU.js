import"./chunk-SEBF2BU2.js";import"./chunk-226KYS73.js";import"./chunk-36MGJEOV.js";import{a as z}from"./chunk-R7DZLFCY.js";import{C as S,D,i as b,j as v,m as w,n as I,r as E}from"./chunk-7LRRDA6O.js";import{$ as g,Db as C,Eb as r,Fb as d,Gb as P,Mb as u,Na as c,Oa as p,Tb as M,Vb as O,Wb as y,db as s,eb as f,fb as m,jb as o,kb as a,mb as x,nb as h,ub as _}from"./chunk-LJKVXSQR.js";function F(i,l){if(i&1&&(o(0,"div",12)(1,"div",13),r(2),a(),o(3,"div",14),r(4),a(),o(5,"div",15),r(6),M(7,"date"),a()()),i&2){let n=l.$implicit,t=l.index;f("key",t),c(2),d(n.name),c(2),P("cantidad: ",n.donation.quantity,""),c(2),d(O(7,4,n.donation.expirationDate,"dd/MM/yyyy"))}}function j(i,l){if(i&1&&(x(0),o(1,"div",10),s(2,F,8,7,"div",11),a(),h()),i&2){let n=_();c(2),m("ngForOf",n.donationsList)}}function q(i,l){i&1&&(o(0,"p",16),r(1,"No hay donaciones asignadas"),a())}var Y=(()=>{class i{constructor(n,t){this.route=n,this.http=t,this.charityId=null,this.charity=null,this.id_card="",this.fundacion="No es fundaci\xF3n",this.donationsList=[]}ngOnInit(){this.route.paramMap.subscribe(n=>{let t=n.get("id");this.charityId=t?+t:null,this.charityId&&this.loadPatientData(this.charityId)})}loadPatientData(n){let{headers:t}=D();this.http.get(`${S.apiUrl}charity/getFullCharity/${n}`,{headers:t}).subscribe(e=>{console.log(e),this.charity=e.data.Charity,this.id_card=`${e.data.Charity.indentification_type}-${e.data.Charity.identification}`,this.fundacion=this.charity.is_fundation?"Es fundaci\xF3n":"No es fundaci\xF3n",console.log("Datos del donante:",this.charity),this.extractDonations()},e=>{console.error("Error al obtener los datos del paciente:",e)})}extractDonations(){this.charity&&this.charity.donations?this.donationsList=this.charity.donations.map(n=>n.medications.map(t=>({name:t.name,donation:{quantity:t.medication_donation.quantity,expirationDate:t.medication_donation.expiration_date}}))).flat():this.donationsList=[]}static{this.\u0275fac=function(t){return new(t||i)(p(z),p(E))}}static{this.\u0275cmp=g({type:i,selectors:[["app-perfil-paciente"]],standalone:!0,features:[u],decls:23,vars:6,consts:[["noDonations",""],[1,"container"],[1,"patient-card"],[1,"patient-card-header"],[1,"id-card"],[1,"patient-card-body"],[1,"contact-info"],[1,"info_flex"],[1,"donations"],[4,"ngIf","ngIfElse"],[1,"donations-list"],["class","donation-item",4,"ngFor","ngForOf"],[1,"donation-item"],[1,"donation-name"],[1,"donation-quantity"],[1,"donation-expiration"],[1,"no-donations"]],template:function(t,e){if(t&1&&(o(0,"div",1)(1,"section",2)(2,"div",3)(3,"h2"),r(4),a(),o(5,"p",4),r(6),a()(),o(7,"div",5)(8,"div",6)(9,"div",7)(10,"p"),r(11,"Raz\xF3n Social "),o(12,"span"),r(13),a()(),o(14,"p")(15,"span"),r(16),a()()()(),o(17,"div",8)(18,"h3"),r(19,"Donaciones"),a(),s(20,j,3,1,"ng-container",9)(21,q,2,0,"ng-template",null,0,y),a()()()()),t&2){let k=C(22);c(4),d(e.charity==null?null:e.charity.id),c(2),d(e.id_card),c(7),d(e.charity==null?null:e.charity.razon_social),c(3),d(e.fundacion),c(4),m("ngIf",e.donationsList.length>0)("ngIfElse",k)}},dependencies:[I,b,v,w],styles:["hr[_ngcontent-%COMP%]{color:#1e90ff;width:1px;height:1px}.patient-card[_ngcontent-%COMP%]{width:85%;min-height:400px;margin:7rem auto 3rem;background-color:#fff;border-radius:8px;overflow:hidden;box-shadow:0 4px 6px #0000001a;transition:all .3s ease;text-transform:capitalize}.patient-card[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 8px 12px #00000026}.patient-card-header[_ngcontent-%COMP%]{background-color:#1e90ff;padding:15px;color:#fff}.patient-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.7em;font-weight:700}.patient-card-header[_ngcontent-%COMP%]   .id-card[_ngcontent-%COMP%]{margin:5px 0 0;font-size:1.1em;opacity:.9}.patient-card-body[_ngcontent-%COMP%]{padding:15px}.contact-info[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.1em;color:#333;display:flex;justify-content:space-evenly}.info_flex[_ngcontent-%COMP%]{display:flex;flex-direction:column}.contact-info[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;text-align:center;gap:6px}.info_flex[_ngcontent-%COMP%]{display:flex}.contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;display:flex;flex-direction:column;font-weight:500;gap:5px}.contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.contact-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;color:#1e90ff}.pathologies[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.pathologies[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;color:#1e90ff;margin:0 0 10px}.pathologies[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;font-size:.8em}.pathologies[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f0f8ff;border-radius:4px;padding:5px 8px;margin-bottom:5px;display:inline-block;margin-right:5px}@media (width < 768px){.patient-card[_ngcontent-%COMP%]{width:95%;min-width:none;margin:9rem auto}}.treatments[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:85%;text-align:center;margin:0 auto;align-items:center}.treatments[_ngcontent-%COMP%]:last-child{margin-bottom:2rem}.treatment-card[_ngcontent-%COMP%]{width:100%;min-height:250px;background-color:#fff;border-radius:8px;overflow:hidden;box-shadow:0 4px 6px #0000001a;transition:all .3s ease;text-transform:capitalize;text-overflow:ellipsis}.treatment-card[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 8px 12px #00000026}.treatment-card-header[_ngcontent-%COMP%]{background-color:#1e90ff;padding:15px;color:#fff}.treatment-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1em;font-weight:700}.treatment-card-body[_ngcontent-%COMP%]{padding:15px}.treatment-info[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.8em;color:#333}.treatment-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:600;gap:5px}.treatment-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.treatment-medications[_ngcontent-%COMP%]{display:flex;flex-direction:column}.treatment-medications[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;color:#1e90ff;margin:0 0 10px}.treatment-medications[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;font-size:.8em}.treatment-medications[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f0f8ff;border-radius:4px;padding:5px 8px;margin-bottom:5px;display:inline-block;margin-right:5px}.treatment-item[_ngcontent-%COMP%]{margin:1rem}.item-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.donations[_ngcontent-%COMP%]{margin-top:20px}.donations[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;color:#1e90ff;margin-bottom:15px;text-align:center}.donations-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:15px}.donation-item[_ngcontent-%COMP%]{background-color:#f0f8ff;border-radius:8px;padding:15px;box-shadow:0 2px 4px #0000001a;transition:all .3s ease}.donation-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 6px #00000026}.donation-name[_ngcontent-%COMP%]{font-weight:700;color:#1e90ff;margin-bottom:5px}.donation-quantity[_ngcontent-%COMP%]{font-size:.9em;color:#666;font-weight:600;margin-bottom:3px}.donation-expiration[_ngcontent-%COMP%]{font-size:.8em;color:#666}.no-donations[_ngcontent-%COMP%]{text-align:center;color:#666;font-style:italic}@media (max-width: 768px){.donations-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return i})();export{Y as default};
