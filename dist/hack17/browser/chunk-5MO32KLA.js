import{a as w,b}from"./chunk-YHSLCSDN.js";import"./chunk-HBVGJIFA.js";import"./chunk-DMAP7O3B.js";import{a as C}from"./chunk-SEBF2BU2.js";import"./chunk-226KYS73.js";import"./chunk-36MGJEOV.js";import"./chunk-P4DBDHMG.js";import{a as v}from"./chunk-6BZURQTQ.js";import{c as P}from"./chunk-R7DZLFCY.js";import{C as _,D as g}from"./chunk-7LRRDA6O.js";import{$ as h,Mb as u,Na as s,Oa as l,Wa as f,fb as c,jb as o,kb as p,lb as d,tb as m}from"./chunk-LJKVXSQR.js";var I=(()=>{class a{constructor(t,e){this.ngZone=t,this.router=e,this.pacientes=[],this.filteredPacientes=[],this.columnHeaders=["Nombre","Apellido","Email","Telefono","Direccion","Cedula"],this.columns=["first_name","last_name","email","phone","address","id_card"]}ngOnInit(){this.getPost()}getPost(){let{headers:t}=g();fetch(`${_.apiUrl}patient/getAll`,{method:"GET",headers:t}).then(e=>e.json()).then(e=>{if(e&&e.data&&e.data.Patients&&Array.isArray(e.data.Patients)){let i=e.data.Patients.sort((r,n)=>n.id-r.id);this.ngZone.run(()=>{this.pacientes=i.slice(0,10),this.filteredPacientes=this.pacientes})}else console.error("La API no devolvi\xF3 un arreglo de pacientes")})}filterPacientes(t){this.filteredPacientes=this.pacientes.filter(e=>e.id_card.toString().includes(t))}cleanSearch(){this.filteredPacientes=this.pacientes}editPaciente(t){alert(t.id)}deletePaciente(t){alert(t.id)}onView(t){this.router.navigate(["perfilPaciente/",t.id_card])}static{this.\u0275fac=function(e){return new(e||a)(l(f),l(P))}}static{this.\u0275cmp=h({type:a,selectors:[["app-gestion-paciente"]],standalone:!0,features:[u],decls:5,vars:8,consts:[["title","Gestion Paciente"],[1,"horizontal"],[3,"label","route"],["placeholder","Buscar por C\xE9dula",3,"search","clean"],[3,"view","items","columns","columnHeaders","showEdit","showDelete","showView"]],template:function(e,i){e&1&&(d(0,"app-h1",0),o(1,"div",1),d(2,"app-btn",2),o(3,"app-searchbar",3),m("search",function(n){return i.filterPacientes(n)})("clean",function(){return i.cleanSearch()}),p()(),o(4,"app-table2",4),m("view",function(n){return i.onView(n)}),p()),e&2&&(s(2),c("label","Crear Paciente")("route","/crearPaciente"),s(2),c("items",i.filteredPacientes)("columns",i.columns)("columnHeaders",i.columnHeaders)("showEdit",!1)("showDelete",!1)("showView",!0))},dependencies:[v,C,w,b],styles:[".horizontal[_ngcontent-%COMP%]{display:flex}"]})}}return a})();export{I as default};
