import{a as k}from"./chunk-HBVGJIFA.js";import{C as E,D as F,i as f,n as u,r as w}from"./chunk-7LRRDA6O.js";import{$ as d,Eb as c,Fb as s,Gb as b,Mb as g,Na as r,Oa as v,db as m,eb as M,fb as p,ha as C,ia as P,ja as x,jb as a,kb as o,pb as y,ra as O,tb as _,ub as S}from"./chunk-LJKVXSQR.js";function N(i,l){if(i&1&&(a(0,"li"),c(1),o()),i&2){let t=l.$implicit,n=l.index;M("key",n),r(),b(" ",t.name," ")}}var I=(()=>{class i{constructor(){this.pacient=null,this.pacientName=""}ngOnChanges(t){t.pacient&&this.pacient&&(this.pacientName=`${this.pacient.first_name} ${this.pacient.last_name}`)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=d({type:i,selectors:[["app-card-pacientes"]],inputs:{pacient:"pacient"},standalone:!0,features:[C,g],decls:17,vars:5,consts:[[1,"patient-card"],[1,"patient-card-header"],[1,"id-card"],[1,"patient-card-body"],[1,"contact-info"],[1,"pathologies"],[4,"ngFor","ngForOf"]],template:function(n,e){n&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),c(3),o(),a(4,"p",2),c(5),o()(),a(6,"div",3)(7,"div",4)(8,"p"),c(9),o(),a(10,"p"),c(11),o()(),a(12,"div",5)(13,"h3"),c(14,"Patolog\xEDas:"),o(),a(15,"ul"),m(16,N,2,2,"li",6),o()()()()),n&2&&(r(3),s(e.pacientName),r(2),s(e.pacient==null?null:e.pacient.id_card),r(4),s(e.pacient==null?null:e.pacient.phone),r(2),s(e.pacient==null||e.pacient.community==null?null:e.pacient.community.name),r(5),p("ngForOf",e.pacient==null?null:e.pacient.pathologies))},dependencies:[u,f],styles:[".patient-card[_ngcontent-%COMP%]{max-width:300px;min-height:320px;margin:5px auto;background-color:#fff;border-radius:8px;overflow:hidden;box-shadow:0 4px 6px #0000001a;transition:all .3s ease;cursor:pointer}.patient-card[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 8px 12px #00000026}.patient-card-header[_ngcontent-%COMP%]{background-color:#1e90ff;padding:15px;color:#fff}.patient-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.2em;font-weight:700}.patient-card-header[_ngcontent-%COMP%]   .id-card[_ngcontent-%COMP%]{margin:5px 0 0;font-size:.9em;opacity:.9}.patient-card-body[_ngcontent-%COMP%]{padding:15px}.contact-info[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.9em;color:#333}.contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;display:flex;align-items:center}.contact-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;color:#1e90ff}.pathologies[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1em;color:#1e90ff;margin:0 0 10px}.pathologies[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;font-size:.8em}.pathologies[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f0f8ff;border-radius:4px;padding:5px 8px;margin-bottom:5px;display:inline-block;margin-right:5px}"]})}}return i})();function $(i,l){if(i&1){let t=y();a(0,"app-card-pacientes",5),_("click",function(){let e=P(t).$implicit,h=S();return x(h.seleccionarPaciente(e))}),o()}if(i&2){let t=l.$implicit;p("pacient",t)}}var Q=(()=>{class i{constructor(t){this.http=t,this.pacientes=[],this.filteredPatients=[],this.pacienteSeleccionado=new O}ngOnInit(){this.loadPatients()}loadPatients(){let t=`${E.apiUrl}patient/getAll`,{headers:n}=F();this.http.get(t,{headers:n}).subscribe(e=>{console.log(e),this.pacientes=e.data.Patients,this.filteredPatients=this.pacientes},e=>{console.error("Error al obtener pacientes:",e)})}seleccionarPaciente(t){this.pacienteSeleccionado.emit(t)}realizarBusqueda(t){this.filteredPatients=this.pacientes.filter(n=>n.id_card.toString().includes(t.toString())),console.log(this.filteredPatients)}limpiarBusqueda(){this.filteredPatients=this.pacientes}static{this.\u0275fac=function(n){return new(n||i)(v(w))}}static{this.\u0275cmp=d({type:i,selectors:[["app-lista-pacientes"]],outputs:{pacienteSeleccionado:"pacienteSeleccionado"},standalone:!0,features:[g],decls:8,vars:1,consts:[[1,"wrapper"],[1,"header-cont"],["placeholder","Insertar Cedula",3,"search","clean"],[1,"cards-cont"],[3,"pacient","click",4,"ngFor","ngForOf"],[3,"click","pacient"]],template:function(n,e){n&1&&(a(0,"main",0)(1,"div",1)(2,"h2"),c(3,"Selecciona un Paciente"),o(),a(4,"div")(5,"app-search-bar-input",2),_("search",function(z){return e.realizarBusqueda(+z)})("clean",function(){return e.limpiarBusqueda()}),o()()(),a(6,"div",3),m(7,$,1,1,"app-card-pacientes",4),o()()),n&2&&(r(7),p("ngForOf",e.filteredPatients.length?e.filteredPatients:e.pacientes))},dependencies:[I,u,f,k],styles:[".wrapper[_ngcontent-%COMP%]{padding:5px;display:flex;align-items:center;gap:40px;flex-direction:column;max-height:95vh}.header-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.cards-cont[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(150px,1fr));gap:2rem;align-items:start;overflow-y:scroll;padding:15px;max-height:90vh}@media (min-width: 1300px){.card[_ngcontent-%COMP%]{min-width:290px;max-width:290px}}"]})}}return i})();export{Q as a};
