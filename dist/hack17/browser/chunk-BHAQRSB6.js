import{a as O}from"./chunk-CX255OMB.js";import{a as P}from"./chunk-U2TGC7WK.js";import"./chunk-SEBF2BU2.js";import"./chunk-226KYS73.js";import"./chunk-36MGJEOV.js";import{a as E}from"./chunk-6BZURQTQ.js";import"./chunk-R7DZLFCY.js";import{i as C,n as M}from"./chunk-7LRRDA6O.js";import{$ as g,Eb as a,Fb as c,Gb as _,Hb as h,Mb as x,Na as t,Oa as v,db as l,fb as p,hb as s,jb as i,kb as n,lb as f,tb as b}from"./chunk-LJKVXSQR.js";function D(d,m){if(d&1&&(i(0,"li",13)(1,"span",14),a(2),n(),i(3,"span",15),a(4),n()()),d&2){let e=m.$implicit;t(2),c(e.community_name),t(2),c(e.total_medications_delivered)}}function y(d,m){if(d&1&&(i(0,"li",13)(1,"span",14),a(2),n(),i(3,"span",15),a(4),n()()),d&2){let e=m.$implicit;t(2),c(e.medication_name),t(2),c(e.total_delivered)}}function k(d,m){if(d&1&&(i(0,"li",13)(1,"span",14),a(2),n(),i(3,"span",15),a(4),n()()),d&2){let e=m.$implicit;t(2),h("",e.medication_name," ",e.patient_last_name,""),t(2),c(e.total_deliveries)}}var z=(()=>{class d{constructor(e){this.reportesService=e,this.name="usuario",this.communitiesMostDelivered=[],this.communitiesMostDeliveredCopy=[],this.deliveredMedications=[],this.deliveredMedicationsCopy=[],this.mostDeliveredPatients=[],this.mostDeliveredPatientsCopy=[],this.tabs=[{id:"comunidad",label:"Comunidades m\xE1s abastecidas"},{id:"medicamentos",label:"Medicamentos m\xE1s entregados"},{id:"paciente",label:"Pacientes m\xE1s abastecidos"}],this.contents=[{id:"comunidad",label:"Comunidades m\xE1s abastecidas"},{id:"medicamentos",label:"Medicamentos m\xE1s entregados"},{id:"paciente",label:"Pacientes m\xE1s abastecidos"}],this.activeTab=""}onTabClick(e){this.activeTab=e}ngOnInit(){let{name:e}=P();this.activeTab=this.tabs[0].id,this.name=e,this.reportesService.getCommunitiesMostDelivered().subscribe(o=>{this.communitiesMostDelivered=o.data.communities,this.communitiesMostDeliveredCopy=this.communitiesMostDelivered.slice(0,15)},o=>{console.error("Error al obtener los datos de comunidad:",o)}),this.reportesService.getDeliveredMedications().subscribe(o=>{this.deliveredMedications=o.data.deliveries,this.deliveredMedicationsCopy=this.deliveredMedications.slice(0,15)},o=>{console.error("Error al obtener los datos de comunidad:",o)}),this.reportesService.getMostDeliveredPatients().subscribe(o=>{this.mostDeliveredPatients=o.data.patients,this.mostDeliveredPatientsCopy=this.mostDeliveredPatients.slice(0,3)},o=>{console.error("Error al obtener los datos de comunidad:",o)})}static{this.\u0275fac=function(o){return new(o||d)(v(O))}}static{this.\u0275cmp=g({type:d,selectors:[["app-dashboard-delivered"]],standalone:!0,features:[x],decls:29,vars:16,consts:[["title","Dashboard de Donante",1,"h1"],[1,"dashboard-container"],[1,"tabs"],["data-tab","comunidad",1,"tab-button",3,"click"],["data-tab","medicamentos",1,"tab-button",3,"click"],["data-tab","paciente",1,"tab-button",3,"click"],["id","comunidad",1,"tab-content"],[1,"report-title"],[1,"communities-grid"],[1,"medications-list"],["class","medication-item",4,"ngFor","ngForOf"],["id","medicamentos",1,"tab-content"],["id","paciente",1,"tab-content"],[1,"medication-item"],[1,"medication-name"],[1,"medication-amount"]],template:function(o,r){o&1&&(f(0,"app-h1",0),i(1,"h1"),a(2),n(),i(3,"div",1)(4,"div",2)(5,"button",3),b("click",function(){return r.onTabClick("comunidad")}),a(6,"Comunidades m\xE1s abastecidas"),n(),i(7,"button",4),b("click",function(){return r.onTabClick("medicamentos")}),a(8,"Medicamentos m\xE1s entregados"),n(),i(9,"button",5),b("click",function(){return r.onTabClick("paciente")}),a(10,"Pacientes m\xE1s abastecidos"),n()(),i(11,"div",6)(12,"h2",7),a(13,"Comunidades m\xE1s abastecidas"),n(),i(14,"div",8)(15,"ul",9),l(16,D,5,2,"li",10),n()()(),i(17,"div",11)(18,"h2",7),a(19,"Medicamentos m\xE1s entregados"),n(),i(20,"div",8)(21,"ul",9),l(22,y,5,2,"li",10),n()()(),i(23,"div",12)(24,"h2",7),a(25,"Pacientes m\xE1s abastecidos"),n(),i(26,"div",8)(27,"ul",9),l(28,k,5,3,"li",10),n()()()()),o&2&&(t(2),_("Bienvenido ",r.name,""),t(3),s("active",r.activeTab==="comunidad"),t(2),s("active",r.activeTab==="medicamentos"),t(2),s("active",r.activeTab==="paciente"),t(2),s("active",r.activeTab==="comunidad"),t(5),p("ngForOf",r.communitiesMostDelivered),t(),s("active",r.activeTab==="medicamentos"),t(5),p("ngForOf",r.deliveredMedications),t(),s("active",r.activeTab==="paciente"),t(5),p("ngForOf",r.mostDeliveredPatients))},dependencies:[E,M,C],styles:["h1[_ngcontent-%COMP%]{text-align:center;color:#1e90ff;margin-top:0}.dashboard-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;margin-bottom:1rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;overflow:hidden}.tabs[_ngcontent-%COMP%]{display:flex;background-color:#f0f0f0;border-bottom:1px solid #ddd;overflow-x:auto;justify-content:center}.tab-button[_ngcontent-%COMP%]{padding:12px 20px;border:none;background-color:transparent;cursor:pointer;transition:background-color .3s;white-space:nowrap}.tab-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.tab-button.active[_ngcontent-%COMP%]{background-color:#fff;border-bottom:2px solid dodgerblue}.tab-content[_ngcontent-%COMP%]{display:none;padding:20px}.tab-content.active[_ngcontent-%COMP%]{display:block}.report-title[_ngcontent-%COMP%]{color:#1e90ff;margin-bottom:20px;text-align:center}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f8f8f8;font-weight:700}.communities-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:80%;margin:0 auto;gap:20px}.community-card[_ngcontent-%COMP%]{background-color:#f8f8f8;border-radius:8px;padding:15px;box-shadow:0 1px 3px #0000001a}.community-name[_ngcontent-%COMP%]{color:#1e90ff;margin-bottom:10px}.medications-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.medication-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #E5E7EB}.medication-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.medication-name[_ngcontent-%COMP%]{font-weight:700;color:#2563eb}.medication-amount[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af;padding:5px 10px;border-radius:20px;font-weight:700}.report-title_comunidad[_ngcontent-%COMP%]{text-align:center;color:#1e40af;margin-bottom:20px}@media (max-width: 600px){.medication-amount[_ngcontent-%COMP%]{margin-top:5px}}@media (max-width: 768px){.tabs[_ngcontent-%COMP%]{flex-wrap:wrap}.tab-button[_ngcontent-%COMP%]{flex-grow:1;text-align:center}table[_ngcontent-%COMP%]{font-size:14px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px}}"]})}}return d})();export{z as default};
