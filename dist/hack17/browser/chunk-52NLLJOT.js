import{a as q}from"./chunk-SEBF2BU2.js";import"./chunk-226KYS73.js";import"./chunk-36MGJEOV.js";import{a as D}from"./chunk-R7DZLFCY.js";import{C as A,D as k,i as S,j as I,m as T,n as w,r as F}from"./chunk-7LRRDA6O.js";import{$ as y,Db as x,Eb as n,Fb as d,Gb as M,Hb as s,Mb as E,Na as o,Oa as v,Tb as g,Ub as h,Vb as b,Wb as P,db as m,eb as O,fb as c,jb as e,kb as a,lb as C,mb as f,nb as _,ub as u}from"./chunk-LJKVXSQR.js";function $(i,l){if(i&1&&(e(0,"li"),n(1),a()),i&2){let t=l.$implicit,p=l.index;O("key",p),o(),M(" ",t.name," ")}}function N(i,l){if(i&1&&(f(0),e(1,"ul"),m(2,$,2,2,"li",16),a(),_()),i&2){let t=u();o(2),c("ngForOf",t.patient==null?null:t.patient.pathologies)}}function B(i,l){i&1&&n(0,"No hay patolog\xEDas asignadas")}function L(i,l){if(i&1&&(e(0,"li"),n(1),a()),i&2){let t=l.$implicit;o(),s(" ",t.name," - Cantidad: ",t.medication_quantity.quantity," ")}}function R(i,l){if(i&1&&(e(0,"div",18)(1,"div",19)(2,"div",20)(3,"h2"),n(4),a()(),e(5,"div",21)(6,"div",22)(7,"p"),n(8,"Observaci\xF3n: "),e(9,"span"),n(10),a()(),e(11,"p"),n(12,"Estado: "),e(13,"span"),n(14),a()(),e(15,"p"),n(16,"Fecha de Creaci\xF3n: "),e(17,"span"),n(18),g(19,"date"),a()()(),e(20,"div",23)(21,"h3"),n(22,"Medicamentos"),a(),e(23,"ul"),m(24,L,2,2,"li",16),a()()()()()),i&2){let t=l.$implicit;o(4),s("",t.id," - ",t.observation,""),o(6),d(t.observation),o(4),d(t.status),o(4),d(h(19,6,t.createdAt)),o(6),c("ngForOf",t.medications)}}function H(i,l){if(i&1&&(f(0),m(1,R,25,8,"div",17),_()),i&2){let t=u();o(),c("ngForOf",t.patient==null?null:t.patient.treatments)}}function U(i,l){i&1&&n(0,"No hay Tratamientos asignados")}function V(i,l){if(i&1&&(e(0,"li"),n(1),a()),i&2){let t=l.$implicit;o(),s(" ",t.name," - Cantidad: ",t.delivery_details.quantity," ")}}function J(i,l){if(i&1&&(e(0,"div",25)(1,"div",19)(2,"div",20)(3,"h2"),n(4),g(5,"date"),a()(),e(6,"div",21)(7,"div",22)(8,"p"),n(9,"Estado: "),e(10,"span"),n(11),a()(),e(12,"p"),n(13,"Fecha de Creaci\xF3n: "),e(14,"span"),n(15),g(16,"date"),a()(),e(17,"p"),n(18,"Fecha de Retiro: "),e(19,"span"),n(20),a()()(),e(21,"div",23)(22,"h3"),n(23,"Medicamentos entregados"),a(),e(24,"ul"),m(25,V,2,2,"li",16),a()()()()()),i&2){let t=l.$implicit;o(4),s("",t.id," - ",h(5,6,t.appointment_date),""),o(7),d(t.status),o(4),d(h(16,8,t.createdAt)),o(5),d((t==null?null:t.withdrawal_date)||"No retirado"),o(5),c("ngForOf",t.medications)}}function G(i,l){if(i&1&&(f(0),m(1,J,26,10,"div",24),_()),i&2){let t=u();o(),c("ngForOf",t.patient==null?null:t.patient.deliveries)}}function K(i,l){i&1&&n(0,"No hay entregas asignadas")}var at=(()=>{class i{constructor(t,p){this.route=t,this.http=p,this.patientId=null,this.patient=null,this.pathologiesList=[],this.patientData={id:51,id_card:30030619,first_name:"Jennica",last_name:"Poytress",birth_date:"2024-03-31T18:39:59.000Z",email:"jennica.poytress@yahoo.com",phone:"(407) 809-9425",address:"8849 Vibrant Lane, Orlando, Florida, United States, 32835",gender:"other",status:"active",createdAt:"2024-08-14T06:16:05.000Z",pathologies:[{name:"Parkinson\u2019s Disease"},{name:"Parkinson\u2019s Disease"}],treatments:[{id:25,observation:"Tomar con precauci\xF3n",status:"parcialmente abastecido",active:"active",createdAt:"2024-06-08T00:42:18.000Z",medications:[{id:8,name:"Paracetamol",medication_quantity:{quantity:12}},{id:10,name:"Ibuprofen",medication_quantity:{quantity:7}}]}],deliveries:[{id:1,appointment_date:"2024-08-06T00:00:00.000Z",withdrawal_date:"2024-08-06T00:00:00.000Z",treatment_id:25,patient_id:51,expiration_date:"2024-08-06T00:00:00.000Z",status:"pendiente",createdAt:"2024-09-28T00:00:00.000Z",updatedAt:"2024-09-28T00:00:00.000Z",medications:[{name:"Ibuprofen",delivery_details:{quantity:10}},{name:"Atorvastatin",delivery_details:{quantity:7}},{name:"Aspirin",delivery_details:{quantity:5}}],returns:[{id:1,reason:"Vencido",date:"2024-09-28T00:00:00.000Z",delivery_id:1,createdAt:"2024-09-28T00:00:00.000Z",updatedAt:"2024-09-28T00:00:00.000Z",medications:[{id:4,name:"Simvastatin",return_details:{quantity:7}}]}]}]}}ngOnInit(){this.route.paramMap.subscribe(t=>{let p=t.get("id");this.patientId=p?+p:null,this.patientId&&this.loadPatientData(this.patientId)})}loadPatientData(t){let{headers:p}=k();this.http.get(`${A.apiUrl}patient/getFullPatient/${t}`,{headers:p}).subscribe(r=>{console.log(r),this.patient=r.data.Patient,console.log("Datos del paciente:",this.patient),this.extractPathologies()},r=>{console.error("Error al obtener los datos del paciente:",r)})}extractPathologies(){this.patient&&this.patient.pathologies?this.pathologiesList=this.patient.pathologies.map(t=>t.name):this.pathologiesList=[]}static{this.\u0275fac=function(p){return new(p||i)(v(D),v(F))}}static{this.\u0275cmp=y({type:i,selectors:[["app-perfil-paciente"]],standalone:!0,features:[E],decls:52,vars:21,consts:[["noPathologies",""],["noTreatments",""],["noDeliveries",""],[1,"container"],[1,"patient-card"],[1,"patient-card-header"],[1,"id-card"],[1,"patient-card-body"],[1,"contact-info"],[1,"info_flex"],[1,"pathologies"],[4,"ngIf","ngIfElse"],[1,"containerTratamiento"],[1,"treatments"],[3,"label","route"],[1,"item-container"],[4,"ngFor","ngForOf"],["class","treatment-item",4,"ngFor","ngForOf"],[1,"treatment-item"],[1,"treatment-card"],[1,"treatment-card-header"],[1,"treatment-card-body"],[1,"treatment-info"],[1,"treatment-medications"],["class","delivery-item",4,"ngFor","ngForOf"],[1,"delivery-item"]],template:function(p,r){if(p&1&&(e(0,"div",3)(1,"section",4)(2,"div",5)(3,"h2"),n(4),a(),e(5,"p",6),n(6),a(),e(7,"p",6),n(8),a()(),e(9,"div",7)(10,"div",8)(11,"div",9)(12,"p"),n(13,"Direcci\xF3n "),e(14,"span"),n(15),a()(),e(16,"p"),n(17,"Fecha de nacimiento "),e(18,"span"),n(19),g(20,"date"),a()()(),e(21,"div",9)(22,"p"),n(23,"Tel\xE9fono "),e(24,"span"),n(25),a()(),e(26,"p"),n(27,"Correo Electr\xF3nico "),e(28,"span"),n(29),a()()()(),e(30,"div",10)(31,"h3"),n(32,"Patolog\xEDas"),a(),m(33,N,3,1,"ng-container",11)(34,B,1,0,"ng-template",null,0,P),a()()(),e(36,"div",12)(37,"section",13)(38,"h2"),n(39,"Tratamientos"),a(),C(40,"app-btn",14),e(41,"div",15),m(42,H,2,1,"ng-container",11),a(),m(43,U,1,0,"ng-template",null,1,P),a(),e(45,"section",13)(46,"h2"),n(47,"Entregas"),a(),C(48,"app-btn",14),m(49,G,2,1,"ng-container",11)(50,K,1,0,"ng-template",null,2,P),a()()()),p&2){let z=x(35),Z=x(44),j=x(51);o(4),s("",r.patient==null?null:r.patient.first_name," ",r.patient==null?null:r.patient.last_name,""),o(2),d(r.patient==null?null:r.patient.id_card),o(2),d(r.patient==null?null:r.patient.gender),o(7),d(r.patient==null?null:r.patient.address),o(4),d(b(20,18,r.patient==null?null:r.patient.birth_date,"dd/MM/yyyy")),o(6),d(r.patient==null?null:r.patient.phone),o(4),d(r.patient==null?null:r.patient.email),o(4),c("ngIf",r.pathologiesList.length>0)("ngIfElse",z),o(7),c("label","Agregar tratamiento")("route","/crearTratamiento"),o(2),c("ngIf",(r.patient==null?null:r.patient.treatments.length)>0)("ngIfElse",Z),o(6),c("label","Agregar entrega")("route","/crearEntrega"),o(),c("ngIf",(r.patient==null?null:r.patient.deliveries.length)>0)("ngIfElse",j)}},dependencies:[w,S,I,T,q],styles:["hr[_ngcontent-%COMP%]{color:#1e90ff;width:1px;height:1px}.patient-card[_ngcontent-%COMP%]{width:85%;min-height:400px;margin:7rem auto 3rem;background-color:#fff;border-radius:8px;overflow:hidden;box-shadow:0 4px 6px #0000001a;transition:all .3s ease;text-transform:capitalize}.patient-card[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 8px 12px #00000026}.patient-card-header[_ngcontent-%COMP%]{background-color:#1e90ff;padding:15px;color:#fff}.patient-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.7em;font-weight:700}.patient-card-header[_ngcontent-%COMP%]   .id-card[_ngcontent-%COMP%]{margin:5px 0 0;font-size:1.1em;opacity:.9}.patient-card-body[_ngcontent-%COMP%]{padding:15px}.contact-info[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.1em;color:#333;display:flex;justify-content:space-evenly}.info_flex[_ngcontent-%COMP%]{display:flex;flex-direction:column}.contact-info[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;text-align:center;gap:6px}.info_flex[_ngcontent-%COMP%]{display:flex}.contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;display:flex;flex-direction:column;font-weight:500;gap:5px}.contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.contact-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;color:#1e90ff}.pathologies[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.pathologies[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;color:#1e90ff;margin:0 0 10px}.pathologies[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;font-size:.8em}.pathologies[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f0f8ff;border-radius:4px;padding:5px 8px;margin-bottom:5px;display:inline-block;margin-right:5px}@media (width < 768px){.patient-card[_ngcontent-%COMP%]{width:95%;min-width:none;margin:9rem auto}}.treatments[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;width:85%;margin:0 auto;justify-content:center}.treatments[_ngcontent-%COMP%]:last-child{margin-bottom:2rem}.treatment-card[_ngcontent-%COMP%]{width:100%;min-height:250px;background-color:#fff;border-radius:8px;overflow:hidden;box-shadow:0 4px 6px #0000001a;transition:all .3s ease;text-transform:capitalize;text-overflow:ellipsis}.treatment-card[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 8px 12px #00000026}.treatment-card-header[_ngcontent-%COMP%]{background-color:#1e90ff;padding:15px;color:#fff}.treatment-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1em;font-weight:700}.treatment-card-body[_ngcontent-%COMP%]{padding:15px}.treatment-info[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.8em;color:#333}.treatment-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:600;gap:5px}.treatment-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.treatment-medications[_ngcontent-%COMP%]{display:flex;flex-direction:column}.treatment-medications[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;color:#1e90ff;margin:0 0 10px}.treatment-medications[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;font-size:.8em}.treatment-medications[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f0f8ff;border-radius:4px;padding:5px 8px;margin-bottom:5px;display:inline-block;margin-right:5px}.treatment-item[_ngcontent-%COMP%]{margin:1rem}.item-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}"]})}}return i})();export{at as default};
