import{b as C,d as _,e as S,f as v,g as x,h as E,i as w,r as P}from"./chunk-P4DBDHMG.js";import{a as q,b as d}from"./chunk-FYQRXYID.js";import{a as O}from"./chunk-QH7CS6OP.js";import"./chunk-NMGI7OHJ.js";import{a as k}from"./chunk-6BZURQTQ.js";import{C as N,D as F}from"./chunk-7LRRDA6O.js";import{$ as f,Eb as m,Ib as l,Jb as p,Kb as u,Mb as y,Na as c,Oa as s,Wa as h,jb as n,kb as i,lb as b,tb as M}from"./chunk-LJKVXSQR.js";var V=(()=>{class a{constructor(r,e){this.ngZone=r,this.toastrService=e,this.medicamentoSchema=d.object({name:d.string().min(1,{message:"El nombre del medicamento es obligatorio."}),quantity:d.number().int().positive({message:"La cantidad debe ser un n\xFAmero positivo."})}),this.medicamento={name:"",quantity:0}}createMedicamento(){try{this.medicamentoSchema.parse(this.medicamento)}catch(e){if(e instanceof q){e.errors.forEach(t=>{this.toastrService.error(`${t.message}`,"Alerta")});return}}let{headerPost:r}=F();fetch(`${N.apiUrl}medication/create`,{method:"POST",headers:r,body:JSON.stringify(this.medicamento)}).then(e=>e.json()).then(e=>{console.log(e),e.message==="Contact the administrator: error"?this.toastrService.error("Error al crear el medicamento","Error"):(this.toastrService.success("Medicamento creado con \xE9xito"),this.medicamento={name:"",quantity:0})}).catch(e=>{console.error(e),this.toastrService.error("Error al crear el medicamento","Error")})}static{this.\u0275fac=function(e){return new(e||a)(s(h),s(O))}}static{this.\u0275cmp=f({type:a,selectors:[["app-form-medicamentos"]],standalone:!0,features:[y],decls:13,vars:2,consts:[["title","Crear Medicamento"],[1,"container"],[1,"form-group"],[1,"label"],["type","text","name","name","placeholder","Ingrese el nombre del medicamento",3,"ngModelChange","ngModel"],["type","number","name","quantity","placeholder","Ingrese la cantidad del medicamento",3,"ngModelChange","ngModel"],["type","button",3,"click"]],template:function(e,t){e&1&&(b(0,"app-h1",0),n(1,"div",1)(2,"form")(3,"div",2)(4,"label",3),m(5,"Nombre:"),i(),n(6,"input",4),u("ngModelChange",function(o){return p(t.medicamento.name,o)||(t.medicamento.name=o),o}),i()(),n(7,"div",2)(8,"label",3),m(9,"Cantidad:"),i(),n(10,"input",5),u("ngModelChange",function(o){return p(t.medicamento.quantity,o)||(t.medicamento.quantity=o),o}),i()(),n(11,"button",6),M("click",function(){return t.createMedicamento()}),m(12,"Crear Medicamento"),i()()()),e&2&&(c(6),l("ngModel",t.medicamento.name),c(4),l("ngModel",t.medicamento.quantity))},dependencies:[P,E,C,w,_,S,x,v,k],styles:[".container[_ngcontent-%COMP%]{width:50%;margin:40px auto;padding:20px;border-radius:14px;box-shadow:0 0 10px #0000001a;background-color:#fff}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.label[_ngcontent-%COMP%]{font-size:medium;margin-bottom:10px;display:block}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{width:100%;padding:1rem;border:1px solid #ccc;border-radius:5px;font-size:medium}button[type=button][_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#1759b1;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:medium}button[type=button][_ngcontent-%COMP%]:hover{background-color:#0b3a77}"]})}}return a})();export{V as default};
