import"./chunk-5MEDV3QV.js";import"./chunk-36MGJEOV.js";import{b as M,d as S,e as x,f as v,g as E,h as w,r as F}from"./chunk-P4DBDHMG.js";import{a as D,b as c}from"./chunk-FYQRXYID.js";import{a as N}from"./chunk-QH7CS6OP.js";import"./chunk-NMGI7OHJ.js";import{a as k}from"./chunk-6BZURQTQ.js";import{c as _}from"./chunk-R7DZLFCY.js";import{C as P,D as O}from"./chunk-7LRRDA6O.js";import{$ as f,Eb as m,Ib as l,Jb as p,Kb as g,Mb as y,Na as d,Oa as s,Wa as h,jb as r,kb as n,lb as C,tb as b}from"./chunk-LJKVXSQR.js";var G=(()=>{class a{constructor(i,e,t){this.ngZone=i,this.toastrService=e,this.router=t,this.formSchema=c.object({name:c.string().min(1,{message:"El nombre de la categor\xEDa es obligatorio."}),description:c.string().optional()}),this.form={name:"",description:""}}ngOnInit(){}createCategory(){try{this.formSchema.parse(this.form)}catch(e){if(e instanceof D){e.errors.forEach(t=>{this.toastrService.error(`${t.message}`,"Alerta")});return}}let{headerPost:i}=O();fetch(`${P.apiUrl}category/create`,{method:"POST",headers:i,body:JSON.stringify(this.form)}).then(e=>e.json()).then(e=>{console.log(e),this.ngZone.run(()=>{this.toastrService.success("Categor\xEDa creada con \xE9xito"),this.form={name:"",description:""},this.router.navigate(["/gestionCategoria"])})}).catch(e=>{console.error(e),this.ngZone.run(()=>{this.toastrService.error("Error al crear la categor\xEDa","Error")})})}static{this.\u0275fac=function(e){return new(e||a)(s(h),s(N),s(_))}}static{this.\u0275cmp=f({type:a,selectors:[["app-form-categoria"]],standalone:!0,features:[y],decls:13,vars:2,consts:[["title","Crear Categor\xEDa"],[1,"container"],[1,"form-group"],[1,"label"],["type","text","name","name","placeholder","Ingrese el nombre de la categor\xEDa",3,"ngModelChange","ngModel"],["name","description","placeholder","Ingrese la descripci\xF3n de la categor\xEDa","rows","5",2,"resize","none",3,"ngModelChange","ngModel"],["type","button",3,"click"]],template:function(e,t){e&1&&(C(0,"app-h1",0),r(1,"div",1)(2,"form")(3,"div",2)(4,"label",3),m(5,"Nombre:"),n(),r(6,"input",4),g("ngModelChange",function(o){return p(t.form.name,o)||(t.form.name=o),o}),n()(),r(7,"div",2)(8,"label",3),m(9,"Descripci\xF3n:"),n(),r(10,"textarea",5),g("ngModelChange",function(o){return p(t.form.description,o)||(t.form.description=o),o}),n()(),r(11,"button",6),b("click",function(){return t.createCategory()}),m(12,"Crear Categor\xEDa"),n()()()),e&2&&(d(6),l("ngModel",t.form.name),d(4),l("ngModel",t.form.description))},dependencies:[k,F,w,M,S,x,E,v],styles:[".container[_ngcontent-%COMP%]{width:50%;margin:40px auto;padding:20px;border-radius:14px;box-shadow:0 0 10px #0000001a;background-color:#fff}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.label[_ngcontent-%COMP%]{font-size:medium;margin-bottom:10px;display:block}input[type=text][_ngcontent-%COMP%]{width:100%;padding:1rem;border:1px solid #ccc;border-radius:5px;font-size:medium}button[type=button][_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#1759b1;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:medium}button[type=button][_ngcontent-%COMP%]:hover{background-color:#0b3a77}textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;height:100px;font-family:sans-serif;font-size:medium}"]})}}return a})();export{G as default};
