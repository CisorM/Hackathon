import{a as P}from"./chunk-CX255OMB.js";import{a as S}from"./chunk-U2TGC7WK.js";import"./chunk-SEBF2BU2.js";import"./chunk-226KYS73.js";import"./chunk-36MGJEOV.js";import{a as D}from"./chunk-6BZURQTQ.js";import"./chunk-R7DZLFCY.js";import{i as M,m as E,n as C}from"./chunk-7LRRDA6O.js";import{$ as v,Eb as i,Fb as c,Gb as y,Mb as f,Na as n,Oa as _,Tb as x,Ub as g,db as l,fb as p,hb as s,jb as e,kb as t,lb as h,tb as b}from"./chunk-LJKVXSQR.js";function O(d,m){if(d&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t()()),d&2){let o=m.$implicit;n(2),c(o.medication_name),n(2),c(o.usage_count),n(2),c(o.total_quantity)}}function T(d,m){if(d&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t()()),d&2){let o=m.$implicit;n(2),c(o.medication_name),n(2),c(o.donation_count),n(2),c(o.total_donated)}}function k(d,m){if(d&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),x(7,"date"),t()()),d&2){let o=m.$implicit;n(2),c(o.medication_name),n(2),c(o.quantity),n(2),c(g(7,3,o.expiration_date))}}function q(d,m){if(d&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),x(7,"date"),t()()),d&2){let o=m.$implicit;n(2),c(o.medication_name),n(2),c(o.quantity),n(2),c(g(7,3,o.expiration_date))}}function I(d,m){if(d&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t()()),d&2){let o=m.$implicit;n(2),c(o.medication_name),n(2),c(o.total_required),n(2),c(o.inventory_available),n(2),c(o.shortage)}}function F(d,m){if(d&1&&(e(0,"li",23)(1,"span",24),i(2),t(),e(3,"span",25),i(4),t()()),d&2){let o=m.$implicit;n(2),c(o.medication_name),n(2),c(o.total_medicamentos_necesitados)}}function w(d,m){if(d&1&&(e(0,"div",19)(1,"h3",20),i(2),t(),e(3,"ul",21),l(4,F,5,2,"li",22),t()()),d&2){let o=m.$implicit;n(2),c(o.community_name),n(2),p("ngForOf",o.medications)}}var A=(()=>{class d{constructor(o){this.reportesService=o,this.name="usuario",this.mostRequiredMedications=[],this.mostRequiredMedicationsCopy=[],this.mostDonatedMedications=[],this.mostDonatedMedicationsCopy=[],this.medicationsByCommunity=[],this.medicationsByCommunityCopy=[],this.medicationsExpired=[],this.medicationsExpiredCopy=[],this.medicationsByExpiredSoon=[],this.medicationsByExpiredSoonCopy=[],this.medicationsUrgency=[],this.medicationsUrgencyCopy=[],this.tabs=[{id:"required",label:"Medicamentos m\xE1s requeridos"},{id:"donated",label:"Medicamentos m\xE1s donados"},{id:"expired",label:"Medicamentos vencidos"},{id:"expiring-soon",label:"Medicamentos cerca de vencer"},{id:"urgent",label:"Medicamentos urgentes"},{id:"by-community",label:"Medicamentos por comunidad"}],this.contents=[{id:"required",text:"Medicamentos m\xE1s requeridos"},{id:"donated",text:"Medicamentos m\xE1s donados"},{id:"expired",text:"Medicamentos vencidos"},{id:"expiring-soon",text:"Medicamentos cerca de vencer"},{id:"urgent",text:"Medicamentos urgentes"},{id:"by-community",text:"Medicamentos por comunidad"}],this.activeTab=""}onTabClick(o){this.activeTab=o}ngOnInit(){let{name:o}=S();this.activeTab=this.tabs[0].id,this.name=o,this.reportesService.getMostRequiredMedications().subscribe(a=>{this.mostRequiredMedications=a.data.Medication_Treatment,this.mostRequiredMedicationsCopy=this.mostRequiredMedications.slice(0,15)},a=>{console.error("Error al obtener los datos de comunidad:",a)}),this.reportesService.getMostDonatedMedications().subscribe(a=>{this.mostDonatedMedications=a.data.Medication,this.mostDonatedMedicationsCopy=this.mostDonatedMedications.slice(0,15)},a=>{console.error("Error al obtener los datos de comunidad:",a)}),this.reportesService.getMedicationsByCommunity().subscribe(a=>{this.medicationsByCommunity=a.data.Medication,this.medicationsByCommunityCopy=this.medicationsByCommunity.slice(0,3)},a=>{console.error("Error al obtener los datos de comunidad:",a)}),this.reportesService.getMedicationsExpired().subscribe(a=>{this.medicationsExpired=a.data.Medication,this.medicationsExpiredCopy=this.medicationsExpired.slice(0,10)},a=>{console.error("Error al obtener los datos de comunidad:",a)}),this.reportesService.getMedicationsExpiredSoon().subscribe(a=>{this.medicationsByExpiredSoon=a.data.Medication,this.medicationsByExpiredSoonCopy=this.medicationsByExpiredSoon.slice(0,3)},a=>{console.error("Error al obtener los datos de comunidad:",a)}),this.reportesService.getMedicationsUrgency().subscribe(a=>{this.medicationsUrgency=a.data.Medication,this.medicationsUrgencyCopy=this.medicationsUrgency.slice(0,3)},a=>{console.error("Error al obtener los datos de comunidad:",a)})}static{this.\u0275fac=function(a){return new(a||d)(_(P))}}static{this.\u0275cmp=v({type:d,selectors:[["app-dashboard-doner"]],standalone:!0,features:[f],decls:94,vars:31,consts:[["title","Dashboard de Donante",1,"h1"],[1,"dashboard-container"],[1,"tabs"],["data-tab","required",1,"tab-button",3,"click"],["data-tab","donated",1,"tab-button",3,"click"],["data-tab","expired",1,"tab-button",3,"click"],["data-tab","expiring-soon",1,"tab-button",3,"click"],["data-tab","urgent",1,"tab-button",3,"click"],["data-tab","by-community",1,"tab-button",3,"click"],["id","required",1,"tab-content"],[1,"report-title"],[4,"ngFor","ngForOf"],["id","donated",1,"tab-content"],["id","expired",1,"tab-content"],["id","expiring-soon",1,"tab-content"],["id","urgent",1,"tab-content"],["id","by-community",1,"tab-content"],[1,"communities-grid"],["class","community-card",4,"ngFor","ngForOf"],[1,"community-card"],[1,"community-name"],[1,"medications-list"],["class","medication-item",4,"ngFor","ngForOf"],[1,"medication-item"],[1,"medication-name"],[1,"medication-amount"]],template:function(a,r){a&1&&(h(0,"app-h1",0),e(1,"h1"),i(2),t(),e(3,"div",1)(4,"div",2)(5,"button",3),b("click",function(){return r.onTabClick("required")}),i(6,"Medicamentos m\xE1s requeridos"),t(),e(7,"button",4),b("click",function(){return r.onTabClick("donated")}),i(8,"Medicamentos m\xE1s donados"),t(),e(9,"button",5),b("click",function(){return r.onTabClick("expired")}),i(10,"Medicamentos vencidos"),t(),e(11,"button",6),b("click",function(){return r.onTabClick("expiring-soon")}),i(12,"Medicamentos cerca de vencer"),t(),e(13,"button",7),b("click",function(){return r.onTabClick("urgent")}),i(14,"Medicamentos urgentes"),t(),e(15,"button",8),b("click",function(){return r.onTabClick("by-community")}),i(16,"Medicamentos por comunidad"),t()(),e(17,"div",9)(18,"h2",10),i(19,"Medicamentos m\xE1s requeridos"),t(),e(20,"table")(21,"thead")(22,"tr")(23,"th"),i(24,"Medicamento"),t(),e(25,"th"),i(26,"Usados"),t(),e(27,"th"),i(28,"En existencia"),t()()(),e(29,"tbody"),l(30,O,7,3,"tr",11),t()()(),e(31,"div",12)(32,"h2",10),i(33,"Medicamentos m\xE1s donados"),t(),e(34,"table")(35,"thead")(36,"tr")(37,"th"),i(38,"Medicamento"),t(),e(39,"th"),i(40,"Donados"),t(),e(41,"th"),i(42,"Total donados"),t()()(),e(43,"tbody"),l(44,T,7,3,"tr",11),t()()(),e(45,"div",13)(46,"h2",10),i(47,"Medicamentos vencidos"),t(),e(48,"table")(49,"thead")(50,"tr")(51,"th"),i(52,"Medicamento"),t(),e(53,"th"),i(54,"Cantidad"),t(),e(55,"th"),i(56,"Fecha de vencimiento"),t()()(),e(57,"tbody"),l(58,k,8,5,"tr",11),t()()(),e(59,"div",14)(60,"h2",10),i(61,"Medicamentos cerca de vencer"),t(),e(62,"table")(63,"thead")(64,"tr")(65,"th"),i(66,"Medicamento"),t(),e(67,"th"),i(68,"Cantidad"),t(),e(69,"th"),i(70,"Fecha de vencimiento"),t()()(),e(71,"tbody"),l(72,q,8,5,"tr",11),t()()(),e(73,"div",15)(74,"h2",10),i(75,"Medicamentos urgentes"),t(),e(76,"table")(77,"thead")(78,"tr")(79,"th"),i(80,"Medicamento"),t(),e(81,"th"),i(82,"Requerido"),t(),e(83,"th"),i(84,"En inventario"),t(),e(85,"th"),i(86,"Faltante"),t()()(),e(87,"tbody"),l(88,I,9,4,"tr",11),t()()(),e(89,"div",16)(90,"h2",10),i(91,"Medicamentos requeridos por comunidad"),t(),e(92,"div",17),l(93,w,5,2,"div",18),t()()()),a&2&&(n(2),y("Bienvenido ",r.name,""),n(3),s("active",r.activeTab==="required"),n(2),s("active",r.activeTab==="donated"),n(2),s("active",r.activeTab==="expired"),n(2),s("active",r.activeTab==="expiring-soon"),n(2),s("active",r.activeTab==="urgent"),n(2),s("active",r.activeTab==="by-community"),n(2),s("active",r.activeTab==="required"),n(13),p("ngForOf",r.mostRequiredMedicationsCopy),n(),s("active",r.activeTab==="donated"),n(13),p("ngForOf",r.mostDonatedMedicationsCopy),n(),s("active",r.activeTab==="expired"),n(13),p("ngForOf",r.medicationsExpiredCopy),n(),s("active",r.activeTab==="expiring-soon"),n(13),p("ngForOf",r.medicationsByExpiredSoon),n(),s("active",r.activeTab==="urgent"),n(15),p("ngForOf",r.medicationsUrgency),n(),s("active",r.activeTab==="by-community"),n(4),p("ngForOf",r.medicationsByCommunityCopy))},dependencies:[D,C,M,E],styles:["h1[_ngcontent-%COMP%]{text-align:center;color:#1e90ff;margin-top:0}.dashboard-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;margin-bottom:1rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;overflow:hidden}.tabs[_ngcontent-%COMP%]{display:flex;background-color:#f0f0f0;border-bottom:1px solid #ddd;overflow-x:auto}.tab-button[_ngcontent-%COMP%]{padding:12px 20px;border:none;background-color:transparent;cursor:pointer;transition:background-color .3s;white-space:nowrap}.tab-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.tab-button.active[_ngcontent-%COMP%]{background-color:#fff;border-bottom:2px solid dodgerblue}.tab-content[_ngcontent-%COMP%]{display:none;padding:20px}.tab-content.active[_ngcontent-%COMP%]{display:block}.report-title[_ngcontent-%COMP%]{color:#1e90ff;margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f8f8f8;font-weight:700}.communities-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px}.community-card[_ngcontent-%COMP%]{background-color:#f8f8f8;border-radius:8px;padding:15px;box-shadow:0 1px 3px #0000001a}.community-name[_ngcontent-%COMP%]{color:#1e90ff;margin-bottom:10px}.medications-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.medication-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #E5E7EB}.medication-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.medication-name[_ngcontent-%COMP%]{font-weight:700;color:#2563eb}.medication-amount[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af;padding:5px 10px;border-radius:20px;font-weight:700}.report-title_comunidad[_ngcontent-%COMP%]{text-align:center;color:#1e40af;margin-bottom:20px}@media (max-width: 600px){.medication-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.medication-amount[_ngcontent-%COMP%]{margin-top:5px}}@media (max-width: 768px){.tabs[_ngcontent-%COMP%]{flex-wrap:wrap}.tab-button[_ngcontent-%COMP%]{flex-grow:1;text-align:center}table[_ngcontent-%COMP%]{font-size:14px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px}}"]})}}return d})();export{A as default};
