import{a as F}from"./chunk-HBVGJIFA.js";import{C as L,D as V,i as S,j as E,n as k,r as I}from"./chunk-7LRRDA6O.js";import{$ as l,Db as O,Eb as r,Fb as M,Mb as u,Na as d,Oa as w,Wb as P,db as h,fb as p,ia as s,ja as m,jb as a,kb as o,mb as v,nb as y,pb as x,ra as _,tb as f,ub as C}from"./chunk-LJKVXSQR.js";var T=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=l({type:e,selectors:[["app-card-medicamento"]],inputs:{medicine:"medicine"},standalone:!0,features:[u],decls:10,vars:2,consts:[[1,"medicine-card"],[1,"medicine-card-header"],[1,"medicine-name"],[1,"medicine-card-body"],[1,"medicine-quantity"],[1,"label"],[1,"value"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"div",1)(2,"h3",2),r(3),o()(),a(4,"div",3)(5,"p",4)(6,"span",5),r(7,"Existencia:"),o(),a(8,"span",6),r(9),o()()()()),i&2&&(d(3),M(n.medicine.name),d(6),M(n.medicine.quantity))},styles:[".medicine-card[_ngcontent-%COMP%]{width:100%;max-width:300px;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;overflow:hidden;transition:all .3s ease;cursor:pointer}.medicine-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026;transform:translateY(-2px)}.medicine-card-header[_ngcontent-%COMP%]{background-color:#1e90ff;padding:12px 16px}.medicine-name[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:1.2em;font-weight:600}.medicine-card-body[_ngcontent-%COMP%]{padding:16px;background-color:#f8f9fa}.medicine-quantity[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin:0;font-size:1em}.label[_ngcontent-%COMP%]{color:#495057;font-weight:500}.value[_ngcontent-%COMP%]{color:#1e90ff;font-weight:600}"]})}}return e})();function j(e,g){if(e&1){let t=x();a(0,"app-card-medicamento",9),f("click",function(){let n=s(t).$implicit,c=C(2);return m(c.seleccionarMedicina(n))}),o()}if(e&2){let t=g.$implicit;p("medicine",t)}}function z(e,g){if(e&1&&(v(0),h(1,j,1,1,"app-card-medicamento",8),y()),e&2){let t=C();d(),p("ngForOf",t.filteredMedicines)}}function D(e,g){e&1&&(a(0,"p"),r(1,"No se encontraron medicinas. Intenta otra b\xFAsqueda."),o())}var W=(()=>{class e{delete(){this.deletePatient.emit()}constructor(t){this.http=t,this.medications=[],this.filteredMedicines=[],this.medicinaSeleccionada=new _,this.deletePatient=new _}ngOnInit(){this.loadMedications()}loadMedications(){let{headers:t}=V(),i=`${L.apiUrl}medication/getAll`;this.http.get(i,{headers:t}).subscribe(n=>{this.medications=n.data.Medication,this.filteredMedicines=this.medications},n=>{console.error("Error al obtener medicamentos:",n)})}seleccionarMedicina(t){this.medicinaSeleccionada.emit(t)}realizarBusqueda(t){this.filteredMedicines=this.medications.filter(i=>i.name.toLowerCase().includes(t.toLowerCase()))}limpiarBusqueda(){this.filteredMedicines=this.medications}static{this.\u0275fac=function(i){return new(i||e)(w(I))}}static{this.\u0275cmp=l({type:e,selectors:[["app-lista-medicinas"]],outputs:{medicinaSeleccionada:"medicinaSeleccionada",deletePatient:"deletePatient"},standalone:!0,features:[u],decls:12,vars:2,consts:[["noMedicines",""],[1,"wrapper"],[1,"header-cont"],[1,"searchbarcont"],[1,"gobackbutton",3,"click"],["placeholder","Insertar Nombre",3,"search","clean"],[1,"cards-cont"],[4,"ngIf","ngIfElse"],[3,"medicine","click",4,"ngFor","ngForOf"],[3,"click","medicine"]],template:function(i,n){if(i&1){let c=x();a(0,"main",1)(1,"div",2)(2,"h2"),r(3,"Selecciona Las Medicinas"),o(),a(4,"div",3)(5,"button",4),f("click",function(){return s(c),m(n.delete())}),r(6,"Volver"),o(),a(7,"app-search-bar-input",5),f("search",function(q){return s(c),m(n.realizarBusqueda(q))})("clean",function(){return s(c),m(n.limpiarBusqueda())}),o()()(),a(8,"div",6),h(9,z,2,1,"ng-container",7)(10,D,2,0,"ng-template",null,0,P),o()()}if(i&2){let c=O(11);d(9),p("ngIf",n.filteredMedicines.length>0)("ngIfElse",c)}},dependencies:[F,T,k,S,E],styles:[".wrapper[_ngcontent-%COMP%]{padding:5px;display:flex;align-items:center;gap:40px;flex-direction:column;max-height:95vh}.header-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.cards-cont[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(150px,1fr));gap:55px;align-items:center;overflow-y:scroll;padding:15px;max-height:90vh}.searchbarcont[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:95px}.gobackbutton[_ngcontent-%COMP%]{margin-left:5px;background-color:#1e90ff;color:#fff;cursor:pointer;border:2px solid dodgerblue;border-radius:10px;padding:10px;box-shadow:0 4px 20px #0000001a}@media (width > 1300px){.cards-cont[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(150px,1fr))}.card[_ngcontent-%COMP%]{min-width:290px;max-width:290px}}"]})}}return e})();export{W as a};
